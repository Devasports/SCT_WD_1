<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Scientific Calculator (Trig Fixed)</title>

<style>
body{
    margin:0;height:100vh;
    display:flex;justify-content:center;align-items:center;
    background:linear-gradient(135deg,#0f2027,#203a43,#2c5364);
    font-family:Segoe UI,Arial;
}
.calculator{
    width:420px;padding:20px;border-radius:18px;
    background:#081c2f;
    box-shadow:0 0 30px rgba(0,180,255,.8);
}
.display{
    width:100%;height:60px;font-size:24px;
    text-align:right;padding:10px;border-radius:10px;
    border:none;margin-bottom:16px;
}
.buttons{
    display:grid;
    grid-template-columns:repeat(6,1fr);
    gap:8px;
}
button{
    padding:12px;border-radius:10px;
    border:none;font-size:14px;
    color:#fff;background:#0d3b66;
    cursor:pointer;
}
button:active{transform:translateY(3px);}
.trig{background:#6a1b9a;}
.operator{background:#ef6c00;}
.equal{background:#2e7d32;grid-column:span 2;}
.clear{background:#c62828;}
</style>
</head>

<body>

<div class="calculator">
<input id="display" class="display" readonly>

<div class="buttons">
<button class="clear">C</button>
<button>DEL</button>
<button>π</button>
<button>e</button>
<button>√</button>
<button>1/x</button>

<button class="trig">sin</button>
<button class="trig">cos</button>
<button class="trig">tan</button>
<button>log</button>
<button>ln</button>
<button>(</button>

<button>)</button>
<button>x²</button>
<button>x³</button>
<button>xʸ</button>
<button>/</button>
<button>*</button>

<button>7</button>
<button>8</button>
<button>9</button>
<button>-</button>
<button>+</button>
<button>%</button>

<button>4</button>
<button>5</button>
<button>6</button>
<button>.</button>
<button class="equal">=</button>

<button>1</button>
<button>2</button>
<button>3</button>
<button>0</button>
</div>
</div>

<script>
const d=document.getElementById("display");

document.querySelectorAll("button").forEach(b=>{
    b.onclick=()=>handle(b.innerText);
});

function handle(v){
    if(v==="C") return d.value="";
    if(v==="DEL") return d.value=d.value.slice(0,-1);

    if(v==="sin"||v==="cos"||v==="tan") return d.value+=v+"(";
    if(v==="log") return d.value+="log(";
    if(v==="ln") return d.value+="ln(";
    if(v==="√") return d.value+="sqrt(";

    if(v==="x²") return d.value+="**2";
    if(v==="x³") return d.value+="**3";
    if(v==="xʸ") return d.value+="**";
    if(v==="π") return d.value+="PI";
    if(v==="e") return d.value+="E";
    if(v==="1/x") return d.value+="**-1";

    if(v==="=") return calculate();

    d.value+=v;
}

function calculate(){
    try{
        let exp=d.value
            .replace(/sin\(([^)]+)\)/g,"Math.sin(deg($1))")
            .replace(/cos\(([^)]+)\)/g,"Math.cos(deg($1))")
            .replace(/tan\(([^)]+)\)/g,"Math.tan(deg($1))")
            .replace(/log\(/g,"Math.log10(")
            .replace(/ln\(/g,"Math.log(")
            .replace(/sqrt\(/g,"Math.sqrt(")
            .replace(/PI/g,"Math.PI")
            .replace(/E/g,"Math.E");

        let result=eval(exp);
        if(!isFinite(result)) throw "";
        d.value=Math.round(result*100000)/100000;
    }
    catch{
        d.value="Error";
        setTimeout(()=>d.value="",1200);
    }
}

function deg(x){
    return x*Math.PI/180;
}
</script>

</body>
</html>